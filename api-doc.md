# Food Chronicles

## RESTful endpoints

### POST /products

> Post new products

_Request Header_

```
{
    "access_token": "<your access token>"
}
```

_Request Body_

```
{
    "name": "<name to get insert into>",
    "stock": "<stock to get insert into>",
    "price": "<price to get insert into>",
    "image_url": "<url image>"
}
```

_Response (201)_

```
{
    "name": "<name product>",
    "stock": "<stock product>",
    "price": "<price product>",
    "image_url": "<url image>"
}
```

_Response (400)_

```
{
    "message": "validation error"
}
```

_Response (500)_

```
{
    "message": "Internal Server Error"
}
```

### GET /products

> Get all products

_Request Header_

```
{
    "access_token": "<your access token>"
}
```

_Request Body_

```
not needed
```

_Response (200)_

```
[
    {
        "id": "<id product>"
        "name": "<name product>",
        "stock": "<stock product>",
        "price": "<price product>",
        "image_url": "<url image product>"
    }
]
```

_Response (500)_

```
{
    "message": "Internal Server Error"
}
```

### GET /products/:id

> Get product by id

_Request Header_

```
{
    "access_token": "<your access token>"
}
```

_Request Params_

```
{
    "id": <product id>
}
```

_Request Body_

```
not needed
```

_Response (200)_

```
{
    "id": "<id product>"
    "name": "<name product>",
    "stock": "<stock product>",
    "price": "<price product>",
    "image_url": "<url image product>"
}
```

_Response (404)_

```
{
    "message": "error not found"
}
```

### PUT /products/:id

> Update product by id

_Request Header_

```
{
    "access_token": "<your access token>"
}
```

_Request Query_

```
{
    "category": "<name of category inputed by user>"
}
```

_Request Body_

```
{
    "name": "<name updated>",
    "stock": "<stock updated>",
    "price": "<price updated>",
    "image_url": "<url image updated>"
}
```

_Response (200)_

```
{
    "id": "<id product>"
    "name": "<name product>",
    "stock": "<stock product>",
    "price": "<price product>",
    "image_url": "<url image product>"
}
```

_Response (404)_

```
{
    "message": "error not found"
}
```

_Response (500)_

```
{
    "message": "Internal server error"
}
```

### PATCH /products/:id

> Update stock products by id

_Request Header_

```
{
    "access_token": "<your access token>",
}
```

_Request Query_

```
{
    "category": "<name of category inputed by user>"
}
```

_Request Body_

```
{
    "stock": "<stock product>"
}
```

_Response (200)_

```
{
    "id": "<id product>"
    "name": "<name product>",
    "stock": "<stock product>",
    "price": "<price product>",
    "image_url": "<url image product>"
}
```

_Response (400)_

```
{
    "message": "error validation"
}
```

_Response (404)_

```
{
    "message": "error not found"
}
```

_Response (500)_

```
{
    "message": "Internal server error"
}
```

### DELETE /products/:id

> Delete product by id

_Request Header_

```
{
    "access_token": "<your access token>"
}
```

_Request Params_

```
{
    "id": <product id>
}
```

_Request Body_

```
not needed
```

_Response (200)_

```
{
    "message": "product success to delete"
}
```

_Response (404)_

```
{
    "message": "error not found"
}
```

_Response (500)_

```
{
    "message": "Internal server error"
}
```

### POST users/register

> Post new User

_Request Header_

```
{
    "access_token": "<your access token>"
}
```

_Request Body_

```
{
    "email": "<email to post to User>",
    "password": "<password to post to User>"
    "role": "<role to post to User>"
}
```

_Response (201)_

```
{
    "id": <given by the system>,
    "email": "<User email>"
    "role": "<User role>"
}
```

_Response (400)_

```
{
    errors
}
```

### POST /users/login

> Post User login

_Request Body_

```
{
    "email": "<User email>",
    "password": "<User password>"
}
```

_Response (200)_

```
{
    "accessToken": "<generated by system>"
}
```

_Response (400)_

```
{
    error
}
```

### POST /customers/register

> Post new User Customers

_Request Header_

```
{
    "access_token": "<your access token>"
}
```

_Request Body_

```
{
    "email": "<email to post to User>",
    "password": "<password to post to User>"
}
```

_Response (201)_

```
{
    "id": <given by the system>,
    "email": "<User email>"
    "role": "customer"
}
```

_Response (400)_

```
{
    errors
}
```

### POST /customers/login

> Post User login Customer

_Request Body_

```
{
    "email": "<User email>",
    "password": "<User password>"
}
```

_Response (200)_

```
{
    "accessToken": "<generated by system>"
}
```

_Response (400)_

```
{
    error
}
```

### GET /customers

> Get all Product List

_Request Header_

```
not needed
```

_Request Body_

```
not needed
```

_Response (200)_

```
[
    {
        "id": "<id product>"
        "name": "<name product>",
        "stock": "<stock product>",
        "price": "<price product>",
        "image_url": "<url image product>"
    }
]
```

```
_Response (500)_
```

### POST /customers

> Post new cart

_Request Header_

```
{
    "access_token": "<your access token>"
}
```

_Request Body_

```
{
    ProductId: "<id of the product that will be buy>",
    quantity: 1
}
```

_Response (201)_

```
[
    {
        "id": <id of the Cart Product>,
        "CartId": <id of the Cart>,
        "ProductId": <id of the Product>,
        "quantity": <quantity of the product>,
        "createdAt": "2021-01-28T03:23:18.412Z",
        "updatedAt": "2021-01-28T03:23:18.412Z",
        "Product": {
            "id": <id of the Product>,
            "name": "<name of the Product>",
            "stock": <stock of the Product>,
            "price": <price of the Product>,
            "image_url": "<image url of the Product>",
            "createdAt": "2021-01-26T11:19:44.889Z",
            "updatedAt": "2021-01-26T11:19:44.889Z"
        },
        "Cart": {
            "id": <id of the Cart>,
            "UserId": <id of the User (Customer)>,
            "status": <status of the Cart>,
            "createdAt": "2021-01-26T12:33:28.325Z",
            "updatedAt": "2021-01-26T12:33:28.325Z"
        }
    },
    boolean =>
    true (if the there is not created yet) /
    false (if there were already created and instead will increment the quantity of the product)
]
```

_Response (400)_

```
{
    "message": "validation error"
}
```

_Response (500)_

```
{
    "message": "Internal Server Error"
}
```

### PATCH /customers/:id

> Update status carts by id

_Request Header_

```
{
    "access_token": "<your access token>",
}
```

_Request Params_

```
{
    "id": "<id of the Cart>"
}
```

_Request Body_

```
{
    "status": "<status that will updated>"
}
```

_Response (200)_

```
{
    "id": "<id product>"
    "name": "<name product>",
    "stock": "<stock product>",
    "price": "<price product>",
    "image_url": "<url image product>"
}
```

_Response (400)_

```
{
    "message": "error validation"
}
```

_Response (404)_

```
{
    "message": "error not found"
}
```

_Response (500)_

```
{
    "message": "Internal server error"
}
```

### GET /customers/carts

> Get all Cart Products

_Request Header_

```
{
    "access_token": "<your access token>",
}
```

_Request Body_

```
not needed
```

_Response (200)_

```
[
    {
        "id": <id of the Cart Product>,
        "CartId": <id of the Cart>,
        "ProductId": <id of the Product>,
        "quantity": <quantity of the product>,
        "createdAt": "2021-01-28T03:23:18.412Z",
        "updatedAt": "2021-01-28T03:23:18.412Z",
        "Product": {
            "id": <id of the Product>,
            "name": "<name of the Product>",
            "stock": <stock of the Product>,
            "price": <price of the Product>,
            "image_url": "<image url of the Product>",
            "createdAt": "2021-01-26T11:19:44.889Z",
            "updatedAt": "2021-01-26T11:19:44.889Z"
        },
        "Cart": {
            "id": <id of the Cart>,
            "UserId": <id of the User (Customer)>,
            "status": <status of the Cart>,
            "createdAt": "2021-01-26T12:33:28.325Z",
            "updatedAt": "2021-01-26T12:33:28.325Z"
        }
    },
    {
        "id": <id of the Cart Product>,
        "CartId": <id of the Cart>,
        "ProductId": <id of the Product>,
        "quantity": <quantity of the product>,
        "createdAt": "2021-01-28T03:23:18.412Z",
        "updatedAt": "2021-01-28T03:23:18.412Z",
        "Product": {
            "id": <id of the Product>,
            "name": "<name of the Product>",
            "stock": <stock of the Product>,
            "price": <price of the Product>,
            "image_url": "<image url of the Product>",
            "createdAt": "2021-01-26T11:19:44.889Z",
            "updatedAt": "2021-01-26T11:19:44.889Z"
        },
        "Cart": {
            "id": <id of the Cart>,
            "UserId": <id of the User (Customer)>,
            "status": <status of the Cart>,
            "createdAt": "2021-01-26T12:33:28.325Z",
            "updatedAt": "2021-01-26T12:33:28.325Z"
        }
    },
    {
        "id": <id of the Cart Product>,
        "CartId": <id of the Cart>,
        "ProductId": <id of the Product>,
        "quantity": <quantity of the product>,
        "createdAt": "2021-01-28T03:23:18.412Z",
        "updatedAt": "2021-01-28T03:23:18.412Z",
        "Product": {
            "id": <id of the Product>,
            "name": "<name of the Product>",
            "stock": <stock of the Product>,
            "price": <price of the Product>,
            "image_url": "<image url of the Product>",
            "createdAt": "2021-01-26T11:19:44.889Z",
            "updatedAt": "2021-01-26T11:19:44.889Z"
        },
        "Cart": {
            "id": <id of the Cart>,
            "UserId": <id of the User (Customer)>,
            "status": <status of the Cart>,
            "createdAt": "2021-01-26T12:33:28.325Z",
            "updatedAt": "2021-01-26T12:33:28.325Z"
        }
    },
    {
        "id": <id of the Cart Product>,
        "CartId": <id of the Cart>,
        "ProductId": <id of the Product>,
        "quantity": <quantity of the product>,
        "createdAt": "2021-01-28T03:23:18.412Z",
        "updatedAt": "2021-01-28T03:23:18.412Z",
        "Product": {
            "id": <id of the Product>,
            "name": "<name of the Product>",
            "stock": <stock of the Product>,
            "price": <price of the Product>,
            "image_url": "<image url of the Product>",
            "createdAt": "2021-01-26T11:19:44.889Z",
            "updatedAt": "2021-01-26T11:19:44.889Z"
        },
        "Cart": {
            "id": <id of the Cart>,
            "UserId": <id of the User (Customer)>,
            "status": <status of the Cart>,
            "createdAt": "2021-01-26T12:33:28.325Z",
            "updatedAt": "2021-01-26T12:33:28.325Z"
        }
    },
    {
        "id": <id of the Cart Product>,
        "CartId": <id of the Cart>,
        "ProductId": <id of the Product>,
        "quantity": <quantity of the product>,
        "createdAt": "2021-01-28T03:23:18.412Z",
        "updatedAt": "2021-01-28T03:23:18.412Z",
        "Product": {
            "id": <id of the Product>,
            "name": "<name of the Product>",
            "stock": <stock of the Product>,
            "price": <price of the Product>,
            "image_url": "<image url of the Product>",
            "createdAt": "2021-01-26T11:19:44.889Z",
            "updatedAt": "2021-01-26T11:19:44.889Z"
        },
        "Cart": {
            "id": <id of the Cart>,
            "UserId": <id of the User (Customer)>,
            "status": <status of the Cart>,
            "createdAt": "2021-01-26T12:33:28.325Z",
            "updatedAt": "2021-01-26T12:33:28.325Z"
        }
    }
]
```

```
_Response (500)_
```

### GET /customers/products/:id

> Get product by id

_Request Header_

```
{
    "access_token": "<your access token>"
}
```

_Request Params_

```
{
    "id": <product id>
}
```

_Request Body_

```
not needed
```

_Response (200)_

```
{
    "id": "<id product>"
    "name": "<name product>",
    "stock": "<stock product>",
    "price": "<price product>",
    "image_url": "<url image product>"
}
```

_Response (404)_

```
{
    "message": "error not found"
}
```

### GET /customers/carts/:id

> Get Cart Product by id

_Request Header_

```
{
    "access_token": "<your access token>"
}
```

_Request Params_

```
{
    "id": <Cart Product id>
}
```

_Request Body_

```
not needed
```

_Response (200)_

```
{
    "id": "<id Cart Product>"
    "name": "<name Cart Product>",
    "stock": "<stock Cart Product>",
    "price": "<price Cart Product>",
    "image_url": "<url image Cart Product>"
}
```

_Response (404)_

```
{
    "message": "error not found"
}
```

### PATCH /customers/carts/:id

> Update quantity Cart Product by id

_Request Header_

```
{
    "access_token": "<your access token>",
}
```

_Request Params_

```
{
    "id": "<id of the Cart Product>"
}
```

_Request Body_

```
{
    "quantity": "<quantity that will updated>"
}
```

_Response (200)_

```
    {
        "id": <id of the Cart Product>,
        "CartId": <id of the Cart>,
        "ProductId": <id of the Product>,
        "quantity": <updated quantity of the product>,
        "createdAt": "2021-01-28T03:23:18.412Z",
        "updatedAt": "2021-01-28T03:23:18.412Z",
        "Product": {
            "id": <id of the Product>,
            "name": "<name of the Product>",
            "stock": <stock of the Product>,
            "price": <price of the Product>,
            "image_url": "<image url of the Product>",
            "createdAt": "2021-01-26T11:19:44.889Z",
            "updatedAt": "2021-01-26T11:19:44.889Z"
        },
        "Cart": {
            "id": <id of the Cart>,
            "UserId": <id of the User (Customer)>,
            "status": <status of the Cart>,
            "createdAt": "2021-01-26T12:33:28.325Z",
            "updatedAt": "2021-01-26T12:33:28.325Z"
        }
    }
```

_Response (400)_

```
{
    "message": "error validation"
}
```

_Response (404)_

```
{
    "message": "error not found"
}
```

_Response (500)_

```
{
    "message": "Internal server error"
}
```

### DELETE /products/:id

> Delete Cart Product by id

_Request Header_

```
{
    "access_token": "<your access token>"
}
```

_Request Params_

```
{
    "id": <Cart Product id>
}
```

_Request Body_

```
not needed
```

_Response (200)_

```
{
    "message": "Cart Product has been deleted"
}
```

_Response (404)_

```
{
    "message": "error not found"
}
```

_Response (500)_

```
{
    "message": "Internal server error"
}
```
